<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <title>scroll</title>
</head>
<body>
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
          <span class="badge bg-dark">Light 🔄</span>
          <span class="navbar-brand">Navbar</span>
          <button class="navbar-toggler" type="button">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </nav> 

      <script>

        window.addEventListener('scroll',function(){
          // console.log(window.scrollY);
          if(window.scrollY >= 100){
            $(".navbar-brand").addClass("navbar-scroll");
          }else{
            $(".navbar-brand").removeClass("navbar-scroll");
          }
        })

        window.addEventListener('scroll',function(){
          //  console.log(window.scrollY); //스크롤 바를 얼마나 내렸는가 (중요)
            window.pageYOffset//위와 동일
            // window.scrollTo(0,100);// 강제로 스크롤하기 window.scrollTo(x,y);
            // window.scrollBy(0,100);//현재 위치부터 좌표값 만큼 스크롤 해주세요
        });


      </script>



      <div class="line"></div>
      <div class="neayoung" style="height: 2000px; padding-top: 7vh ;"> Lorem ipsum dolor sit amet consectetur adipisicing elit. Ad modi minus cum impedit, vitae libero doloribus temporibus sed, non debitis reiciendis officiis a voluptas pariatur. Dicta sequi reiciendis a quis!</div>

      <script>

        window.addEventListener('scroll',function(){
            var scrollValue =  window.scrollY;
            var realHeight = document.querySelector('.neayoung').scrollHeight;
            var viewportHeight = window.innerHeight; // 화면에 보이는 영역 (뷰포트 높이)

          // 스크롤 가능한 높이 (전체 높이에서 보이는 영역을 뺀 값)
           var scrollableHeight = realHeight - viewportHeight;
           // 스크롤 비율 계산
           var scrollPer = scrollValue/scrollableHeight *100;
           document.querySelector('.line').style.width = scrollPer + "%";
          })        
      </script>
    
      <div class="lorem" style="width: 100%; height:100px; overflow: scroll;">Lorem ipsum dolor sit amet consectetur adipisicing elit.
         Placeat laborum et aspernatur hic dolore ut aliquam quisquam! Laboriosam voluptatem esse perspiciatis aliquid deserunt commodi ratione suscipit.
         Sapiente veniam nesciunt unde?
         Lorem ipsum dolor sit amet consectetur adipisicing elit. 
         Neque, molestiae blanditiis magni dolore harum, accusamus ullam nesciunt minima, laboriosam officia dolorum sint et odit fugit placeat adipisci numquam.
         Quos, explicabo?
          오늘의 숙제 : 

          1. 스크롤바를 100px 내리면 로고 폰트사이즈를 작게 만들어오십시오.

          반대로 100px 미만으로 내리면 로고 폰트사이즈를 크게 만들어옵시다. 
          
          2. 회원약관 박스를 거의 끝까지 스크롤하면 alert를 띄워줍시다.
        </div>

        <script>

          $('.lorem').on('scroll',function(){
            var a = document.querySelector('.lorem').scrollTop// <div> 스크롤바 내린 높이는 셀렉터.scrollTop (증요)
            var b = document.querySelector('.lorem').clientHeight// <div> 보이는 div박스높이는 셀렉터.clientHeight (증요)
            var c = document.querySelector('.lorem').scrollHeight// <div> 실제높이는 셀렉터.scrollHeight (증요)
           
              if(a+b > c-10){
                alert("동의 하십니까?");
              }
            // console.log("스크롤양:" + document.querySelector('.lorem').scrollTop);
            // console.log("스크롤바 높이:"+document.querySelector('.lorem').scrollHeight);
            // console.log("Div박스 높이:"+document.querySelector('.lorem').clientHeight);

          });

            // div의 스크롤바 내린 양 + 눈에 보이는 박스 높이 == div 의 실제 높이  오차가 나므로 약간의 여유가 있게
            $('.lorem').on('scroll',function(){
                var 스크롤양 = document.querySelector('.lorem').scrollTop// <div> 스크롤바 내린 높이는 셀렉터.scrollTop (증요)
                var 스크롤바높이 = document.querySelector('.lorem').scrollHeight// <div> 실제높이는 셀렉터.scrollHeight (증요)
                var div높이 = document.querySelector('.lorem').clientHeight// <div> 보이는 div박스높이는 셀렉터.clientHeight (증요)
                
            })
        </script>
</body>
</html>
