<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <title>캐러셀 (이미지슬라이드)</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div style="overflow: hidden;">
        <div class="slide-container">
            <div class="slide-box" draggable="false">
                <img src="img/car1.png" alt="" draggable="false">
            </div>
            <div class="slide-box">
                <img src="img/car2.png" alt="">
            </div>
            <div class="slide-box">
                <img src="img/car3.png" alt="">
            </div>
        </div>
    </div>

    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="next">다음</button>
    <button class="before">이전</button>

    <script>

        // $('.slide-box').eq(0).on('mousedown',function(e){
        //     console.log(e.clientX,'마우스 누름')
        // })
        // $('.slide-box').eq(0).on('mouseup',function(){
        //     console.log('마우스 땜')
        // })
        // $('.slide-box').eq(0).on('mousemove',function(e){
        //     console.log(e.clientX,'마우스 움직임')
        // })

        let 시작좌표 = 0;
        let 클릭 = false;
        let 움직인거리;

        $('.slide-box').eq(0).on('mousedown', function (e) {
            시작좌표 = e.clientX;
            클릭 = true;
        });

        $('.slide-box').eq(0).on('mousemove', function (e) {
            움직인거리 = e.clientX - 시작좌표;
            if (클릭 == true) {
                $('.slide-container').css('transform', `translateX(${움직인거리}px )`)
                if (움직인거리 <= -250) {
                    document.querySelector('.slide-container').style.transform = "translateX(-100vw)";
                }
            }
        });

        $('.slide-box').eq(0).on('mouseup', function (e) {
            클릭 = false;
            if (움직인거리 > -250) {
                console.log(움직인거리);
                document.querySelector('.slide-container').style.transform = "translateX(0vw)";
            }
        })





    </script>

    <script>

        var 지금사진 = 1;

        function carousel(slideNum) {
            let vmv = 0;
            let transleteVlaue = "translateX(" + vmv + "vw)";

            지금사진 = 1;
            document.querySelector('.slide-' + slideNum).addEventListener('click', function () {
                document.querySelector('.slide-container').style.transform = transleteVlaue;
            })
        }

        carousel(1);
        document.querySelector('.slide-2').addEventListener('click', function () {
            지금사진 = 2;
            document.querySelector('.slide-container').style.transform = "translateX(-100vw)";
        })
        document.querySelector('.slide-3').addEventListener('click', function () {
            지금사진 = 3;
            document.querySelector('.slide-container').style.transform = "translateX(-200vw)";
        })



        $('.next').on('click', function () {

            지금사진 += 1;
            document.querySelector('.slide-container').style.transform = "translateX(-" + Math.abs(지금사진) + "00vw)";

            // if(지금사진 == 1){
            //     document.querySelector('.slide-container').style.transform = "translateX(-"+지금사진+"00vw)";
            //     지금사진 += 1;
            // }else if(지금사진 == 2){
            //     document.querySelector('.slide-container').style.transform = "translateX(-200vw)";
            //     지금사진 += 1;
            // }else if(지금사진 == 3){
            //     document.querySelector('.slide-container').style.transform = "translateX(0vw)";
            //     지금사진 = 1;
            // }
        })
        $('.before').on('click', function () {
            지금사진 -= 1;
            document.querySelector('.slide-container').style.transform = "translateX(-" + Math.abs(지금사진) + "00vw)";
            // if(지금사진 == 3){
            //     지금사진 = 2;
            //     document.querySelector('.slide-container').style.transform = "translateX(-"+지금사진+"00vw)";
            // }else if(지금사진 == 2){
            //     지금사진 = 1;
            //     document.querySelector('.slide-container').style.transform = "translateX(-"+지금사진+"00vw)";
            // }else if(지금사진 == 1){
            //     지금사진 = 3;
            //     document.querySelector('.slide-container').style.transform = "translateX(-"+지금사진+"00vw)";
            // }
        })


    </script>

    <script>

        function 함수명() {

            var 반환값 = (a * 1.1).toFixed(2); // 반올림하는 법 숫자.toFixed(몇자리) ==> 문자로 변환됨
            return parseFloat(반환값); // parseFloat 문자를 숫자로 변환
        }
    </script>
</body>

</html>