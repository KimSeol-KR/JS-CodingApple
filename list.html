<!doctype html>
<html lang="ko">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link href="style.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous"></script>

  <title>list</title>
</head>

<body>

  <div class="card-group container">
    <div class="card">
      <img src="https://via.placeholder.com/600">
      <div class="card-body">
        <h5 class="title">Card title</h5>
        <p>가격 : <span class="price">70000</span></p>
        <button class="btn btn-danger">주문하기</button>
      </div>
    </div>
    <div class="card">
      <img src="https://via.placeholder.com/600">
      <div class="card-body">
        <h5 class="title">Card title</h5>
        <p>가격 : <span class="price">70000</span></p>
        <button class="btn btn-danger">주문하기</button>
      </div>
    </div>
    <div class="card">
      <img src="https://via.placeholder.com/600">
      <div class="card-body">
        <h5 class="title">Card title</h5>
        <p>가격 : <span class="price">70000</span></p>
        <button class="btn btn-danger">주문하기</button>
      </div>
    </div>
  </div>

  <script>
    var products = [
      { id: 0, price: 70000, title: 'Blossom Dress' },
      { id: 1, price: 50000, title: 'Springfield Shirt' },
      { id: 2, price: 60000, title: 'Black Monastery' }
    ];

    //step 1 : 기능 구현 프레임 잡기
    // document.querySelector('.title').innerHTML = products[0].title;
    // document.querySelector('.price').innerHTML = products[0].price;

    //step 2 : 기능 구현 완성하기

    for (var i = 0; i < products['length']; i++) {
      console.log(i);
      var title = document.querySelectorAll('.title');
      var price = document.querySelectorAll('.price');
      //querySelectorAll('클래스명 자식요소') 띄어쓰기는 자식요소를 선택해줌


      title[i].innerHTML = products[i].title;
      price[i].innerHTML = products[i].price;
    }



    //문자 사이에 변수를 넣는 법 `` (백틱) 과 ${}
    `백틱은 엔터키를 쳐도 
        ${변수} 문법 사용 시 변수 값을 중간에 첨가 가능
        문제가 없음`



  </script>

  <form class="container my-5 form-group">
    <p>상품선택</p>
    <select class="form-select mt-2">
      <option>모자</option>
      <option>셔츠</option>
      <option>바지</option>

    </select>
    <select class="form-select mt-2 hide">
      <option>95</option>
      <option>100</option>
    </select>


  </form>

  <script>
    var pants = [28, 30, 32];
    var shirts = [95, 100, 105];


    const a = document.querySelectorAll('.form-select')[0];
    const b = document.querySelectorAll('.form-select')[1];

    a.addEventListener('input', function (e) {
      var eC = e.currentTarget.value; // e.currentTarget 이벤트 리스너가 달린 곳
      var this1 = this.value; //this 를 funcrion 안에서 쓰면 this 가 알맞게 재정의 됨
      //반면에 arrow function 에서 this 는 밖에서 가져옴
      console.log(eC);
      console.log(this1);
      if (a.value == '셔츠') {
        b.classList.remove('hide');
        $('.form-select').eq(1).html('');
        shirts.forEach(function (a) {
          $('.form-select').eq(1).append(`<option>${a}</option>`);
        })
      } else if (a.value == '바지') {
        b.classList.remove('hide');
        $('.form-select').eq(1).html('');

        pants.forEach((k) => { //arrow function
          //arrow function 는 함수안의 this 뜻이 달라질 수 있다  
          //arrow function은 파라미터가 하나면 () 소괄호 생략해도 봐줍니다. 
          // 함수 중괄호 안에 return 한 줄 밖에 없으면 { } 중괄호와 return 동시에 생략해도 봐줍니다.
          
          $('.form-select').eq(1).append(`<option>${k}</option>`);
        })//array 자료 개수만큼 반복 
        // forEach 의 콜백함수 첫번째 파라미터는 반복 할 때 의 ARRAY안의 데이터
        // 두번째 파라미터는 0부터 증가한 값 for 의 i
      } else {
        b.classList.add('hide')
      }

    })
    //반복문의 용도 2 : array,object 데이터를 전부 꺼낼 때 사용

    var obj = { name: 'kim', age: 20 }

    for (var key in obj) { // object 자료 개수만큼 반복문을 돌려줌
      console.log(obj[key]);
    }

    //  if(a.value == '셔츠'){
    //       b.classList.remove('hide');
    //       var option = `
    //   <option>95</option>
    //   <option>100</option>`
    //   $('.form-select').eq(1).html(''); //html 비우기
    //   $('.form-select').eq(1).append(option);
    //     }else if(a.value == '바지'){
    //       var option = `
    //   <option>28</option>
    //   <option>30</option>`
    //   b.classList.remove('hide');
    //    $('.form-select').eq(1).html(''); //html 비우기
    //    $('.form-select').eq(1).append(option);
    //     }else{
    //       b.classList.add('hide');
    //     }

    //  })
  </script>

  <div id="test">

  </div>

  <script>

    var ab = document.createElement('p'); //HTMl 요소 생성
    ab.innerHTML = "ss"; //요소 내용 변경
    // ab.classList.add(); //클래스 부여
    document.querySelector('#test').appendChild(ab); //선택 요소안에 추가

    var x = '<p>안녕</p>';
    document.querySelector('#test').insertAdjacentHTML('beforeend', x);

    // insertAdjacentHTML는 요소안에 문자형 HTML을 넣어주는 함수, beforeend 는 안쪽 맨 밑
    // 제이쿼리는 append 
  </script>

  <script>



  </script>




  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>


</body>

</html>